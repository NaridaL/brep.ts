<!DOCTYPE html>
<!-- saved from url=(0172)http://localhost:10001/tests/results/NURBS_simplify_ellipse_view.html#i={focus:V(0.489,0.578,1.249),pos:V(96.279,-26.526,-8.222),up:V(0.197,0.403,0.893),zoomFactor:824.936} -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<title>BREP.ts</title>

	<link rel="stylesheet" href="./BREP.ts_files/materialize.min.css">
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script> -->

	<script type="text/javascript" src="./BREP.ts_files/SVGPathData.js.download"></script>
	<script type="text/javascript" src="./BREP.ts_files/earcut.dev.js.download"></script>

	<script type="text/javascript" src="./BREP.ts_files/viewer.js.download"></script>

	<script type="text/javascript">
		window.onload = viewer.viewerMain
	</script>

	<style type="text/css">
		body {
			font-family: Verdana, sans-serif;
			padding: 0;
			margin: 0;
		}

		.selector {
			border: 1px solid black;
			cursor: pointer;
			display: inline-block;
			width: 10em;
		}

		.selecting {
			border-color: darkred;
			color: darkgreen;
		}

		.icon-link {
			text-decoration: none;
			color: darkred;
		}

		.editorBox {
			background: #eeeeee;
			padding: 4px;
			display: none;
			margin: 8px;
		}

		.editorBox .header {
			font-weight: bold;
		}

		label {
			display: block;
		}

		label span {
			display: inline-block;
			width: 7em;
		}

		.featureHide.hidden {
			text-decoration: line-through;
			color: darkgrey;
		}


		.rebuildLimit {
			font-size: smaller;
			background-color: #de7c58;
			text-align: center;
		}

		.isDependedOn {
			background-color: #9fde60;
		}

		.hasDependents {
			background-color: #8dc3de;
		}

		#tip-wrap {
			z-index: 3000;
		}

		#tip {
			position: relative;
			color: #fcffd2;
			min-width: 250px;
			max-width: 512px;
			height: 120px;
			padding: 8px;
			background: #61bbff;
			font-size: small;
		}

		#tip-arrow {
			position: absolute;
			border-style: solid;
			border-color: #61bbff transparent;
			display: block;
			width: 0;
			z-index: 1;
			top: -16px;
			left: 16px;
		}

		#buttonbar {
			background-color: #8f8e93;
			font-size: 0;
		}

		#buttonbar button {
			background-color: transparent;
			color: white;
			border: none;
			line-height: 2.5em;
			font-size: 12pt;
			margin: 0;
			padding: 0 0.5em;
		}

		#buttonbar button:hover {
			/*border-bottom: 4px solid white;*/
			background-color: #4354ed;
			cursor: pointer;
		}

		#buttonbar button:disabled {
			background-color: #bbbabf;
			color: #d9d8de;
			display: none;
			cursor: not-allowed;
		}
	</style>
</head>

<body style="overflow: hidden;">
	<script>
		var BREPTS_ROOT = ''
		function INIT_HTML() {
			TEST_NAME = "NURBS simplify ellipse"
const edges = [
	new PCurveEdge(new ParabolaCurve(V(1.1, 0, 1.1),V(-1.2571909584179366, 0.9428090415820635, -1.2571909584179366),V(0.15719095841793662, 0.05719095841793653, 1.1571909584179365),-10,10),V(29.391005425973027, -3.708994574026981, 129.39100542597302),V(4.247186257614295, 15.147186257614287, 104.24718625761427),-10,10,undefined,V(-4.401010126776669, -0.2010101267766672, -24.40101012677667),V(1.8866282099407958, 2.0866282099407942, 21.886628209940795),undefined),
	new PCurveEdge(new ParabolaCurve(V(0.46346683773368624, 0.5290171128076675, 0.7585418563741969),V(-1.0864161608527565, 1.0049422230619678, 0),V(0.15719095841793662, 0.05719095841793653, 1.1571909584179365),-10,10),V(27.04672428805491, -3.801309276018358, 116.47763769816784),V(5.318401070999782, 16.297535185220998, 116.47763769816784),-10,10,undefined,V(-4.230235329211489, -0.13887694529676287, -23.143819168358732),V(2.057403007505976, 2.1487613914206984, 23.143819168358732),undefined),
	new PCurveEdge(new EllipseCurve(V(0.37341772151898733, 0.37341772151898733, 1),V(0.23757933004655346, 0.3239954908993101, 0),V(-0.5797942856230027, 0.5363135963066502, 0),-1.181900405090587,1.0273560334461533),V(1, 1.6653345369377348e-16, 1),V(-1.1102230246251565e-16, 1, 1),-1.181900405090587,1.0273560334461533,undefined,V(-3.885780586188048e-16, 0.5031546054266279, 0),V(-0.5031546054266275, -1.6653345369377348e-16, 0),undefined)
]
const drLines = [
	V(8.643819168358736, -2.856180831641268, 24.643819168358736),
	V(0.3507499835681682, -0.11589846574221101, 1),
	V(7.9269887532124415, -2.710472224935323, 21.68869530888362),
	V(0.36548942388275296, -0.12497165856837512, 1),
	V(7.236656709828594, -2.555122686633432, 18.928644222835878),
	V(0.3823124691148325, -0.13498709450890745, 1),
	V(6.572823038207181, -2.390132216735587, 16.363665910215506),
	V(0.4016717937332062, -0.14606337173160422, 1),
	V(5.935487738348213, -2.215500815241798, 13.993760371022512),
	V(0.42415244944733266, -0.158320619797773, 1),
	V(5.324650810251686, -2.0312284821520636, 11.818927605256892),
	V(0.4505189462268435, -0.17186233387609565, 1),
	V(4.740312253917597, -1.8373152174663776, 9.839167612918637),
	V(0.4817798050003395, -0.18673482247156947, 1),
	V(4.182472069345954, -1.6337610211847449, 8.054480394007765),
	V(0.5192727357630118, -0.20283878552863602, 1),
	V(3.6511302565367494, -1.4205658933071654, 6.464865948524263),
	V(0.5647650369873786, -0.2197363262623316, 1),
	V(3.146286815489985, -1.1977298338336377, 5.070324276468133),
	V(0.6205297026251767, -0.23622351718063045, 1),
	V(2.6679417462056616, -0.9652528427641629, 3.8708553778393773),
	V(0.6892382912261747, -0.2493642227736612, 1),
	V(2.216095048683779, -0.7231349200987394, 2.8664592526379926),
	V(0.7731123498944958, -0.25227462048631627, 1),
	V(1.7907467229243377, -0.4713760658373692, 2.057135900863984),
	V(0.8705048228326749, -0.22914191796438643, 1),
	V(1.3918967689273372, -0.2099762799800507, 1.4428853225173475),
	V(0.9646620886675509, -0.14552527266249615, 1),
	V(1.019545186692778, 0.061064437473215015, 1.0237075175980852),
	V(0.9959340623823167, 0.05965027747035589, 1),
	V(0.6736919762206596, 0.34174608652242877, 0.7996024861061954),
	V(0.8425336188001625, 0.4273949774551368, 1),
	V(0.3543371375109824, 0.6320686671675898, 0.7705702280416794),
	V(0.45983756524242025, 0.8202609498344151, 1),
	V(0.06148067056374614, 0.9320321794086985, 0.9366107434045362),
	V(0.06564164568544963, 0.9951115615232057, 1),
	V(-0.20487742462105005, 1.2416366232457559, 1.2977240321947674),
	V(-0.15787441670056185, 0.9567801723960109, 1),
	V(-0.44473714804340453, 1.5608819986787599, 1.8539100944123708),
	V(-0.23989143237518848, 0.8419405036863499, 1),
	V(-0.6580984997033179, 1.889768305707712, 2.6051689300573475),
	V(-0.25261260109102834, 0.7253918484534178, 1),
	V(-0.8449614796007907, 2.228295544332611, 3.5515005391296963),
	V(-0.23791675385972222, 0.6274236818442551, 1),
	V(-1.0053260877358232, 2.5764637145534595, 4.692904921629424),
	V(-0.21422255607658122, 0.5490125535419723, 1),
	V(-1.1391923241084143, 2.934272816370254, 6.0293820775565194),
	V(-0.18894014501898773, 0.48666227792938344, 1),
	V(-1.2465601887185631, 3.3017228497829976, 7.56093200691099),
	V(-0.16486858863155468, 0.43668199195087226, 1),
	V(-1.3274296815662732, 3.6788138147916856, 9.28755470969283),
	V(-0.1429256379163957, 0.39610144217533827, 1),
	V(-1.3818008026515418, 4.065545711396325, 11.209250185902048),
	V(-0.12327325911499792, 0.36269559907848165, 1),
	V(-1.4096735519743682, 4.461918539596912, 13.326018435538638),
	V(-0.10578355108792022, 0.3348275826857327, 1),
	V(-1.411047929534753, 4.867932299393443, 15.637859458602602),
	V(-0.09023280540857631, 0.3112914726136336, 1),
	V(-1.3859239353327002, 5.283586990785926, 18.14477325509393),
	V(-0.07638144141281118, 0.29119057684022703, 1),
	V(-1.334301569368204, 5.708882613774353, 20.84675982501265),
	V(-0.06400522577936854, 0.2738498769926174, 1),
	V(-1.2561808316412666, 6.143819168358732, 23.743819168358733),
	V(-0.052905592934908575, 0.2587544625738243, 1),
	V(0.46346683773368624, 0.5290171128076675, 0.7585418563741969),
	V(0.6109970515655407, 0.6974132124182973, 1),
	V(0.13583839147243387, 0.04942223061967719, 1),
	V(0.6109970515655407, 0.6974132124182973, 1)
]
const drPs = [
	V(0.37341772151898733, 0.3734177215189873, 1),
	{
		color: "blue",
		p: V(8.643819168358736, -2.856180831641268, 24.643819168358736)
	},
	{
		color: "orange",
		p: V(0.3507499835681682, -0.11589846574221101, 1)
	},
	{
		color: "blue",
		p: V(7.9269887532124415, -2.710472224935323, 21.68869530888362)
	},
	{
		color: "orange",
		p: V(0.36548942388275296, -0.12497165856837512, 1)
	},
	{
		color: "blue",
		p: V(7.236656709828594, -2.555122686633432, 18.928644222835878)
	},
	{
		color: "orange",
		p: V(0.3823124691148325, -0.13498709450890745, 1)
	},
	{
		color: "blue",
		p: V(6.572823038207181, -2.390132216735587, 16.363665910215506)
	},
	{
		color: "orange",
		p: V(0.4016717937332062, -0.14606337173160422, 1)
	},
	{
		color: "blue",
		p: V(5.935487738348213, -2.215500815241798, 13.993760371022512)
	},
	{
		color: "orange",
		p: V(0.42415244944733266, -0.158320619797773, 1)
	},
	{
		color: "blue",
		p: V(5.324650810251686, -2.0312284821520636, 11.818927605256892)
	},
	{
		color: "orange",
		p: V(0.4505189462268435, -0.17186233387609565, 1)
	},
	{
		color: "blue",
		p: V(4.740312253917597, -1.8373152174663776, 9.839167612918637)
	},
	{
		color: "orange",
		p: V(0.4817798050003395, -0.18673482247156947, 1)
	},
	{
		color: "blue",
		p: V(4.182472069345954, -1.6337610211847449, 8.054480394007765)
	},
	{
		color: "orange",
		p: V(0.5192727357630118, -0.20283878552863602, 1)
	},
	{
		color: "blue",
		p: V(3.6511302565367494, -1.4205658933071654, 6.464865948524263)
	},
	{
		color: "orange",
		p: V(0.5647650369873786, -0.2197363262623316, 1)
	},
	{
		color: "blue",
		p: V(3.146286815489985, -1.1977298338336377, 5.070324276468133)
	},
	{
		color: "orange",
		p: V(0.6205297026251767, -0.23622351718063045, 1)
	},
	{
		color: "blue",
		p: V(2.6679417462056616, -0.9652528427641629, 3.8708553778393773)
	},
	{
		color: "orange",
		p: V(0.6892382912261747, -0.2493642227736612, 1)
	},
	{
		color: "blue",
		p: V(2.216095048683779, -0.7231349200987394, 2.8664592526379926)
	},
	{
		color: "orange",
		p: V(0.7731123498944958, -0.25227462048631627, 1)
	},
	{
		color: "blue",
		p: V(1.7907467229243377, -0.4713760658373692, 2.057135900863984)
	},
	{
		color: "orange",
		p: V(0.8705048228326749, -0.22914191796438643, 1)
	},
	{
		color: "blue",
		p: V(1.3918967689273372, -0.2099762799800507, 1.4428853225173475)
	},
	{
		color: "orange",
		p: V(0.9646620886675509, -0.14552527266249615, 1)
	},
	{
		color: "blue",
		p: V(1.019545186692778, 0.061064437473215015, 1.0237075175980852)
	},
	{
		color: "orange",
		p: V(0.9959340623823167, 0.05965027747035589, 1)
	},
	{
		color: "blue",
		p: V(0.6736919762206596, 0.34174608652242877, 0.7996024861061954)
	},
	{
		color: "orange",
		p: V(0.8425336188001625, 0.4273949774551368, 1)
	},
	{
		color: "blue",
		p: V(0.3543371375109824, 0.6320686671675898, 0.7705702280416794)
	},
	{
		color: "orange",
		p: V(0.45983756524242025, 0.8202609498344151, 1)
	},
	{
		color: "blue",
		p: V(0.06148067056374614, 0.9320321794086985, 0.9366107434045362)
	},
	{
		color: "orange",
		p: V(0.06564164568544963, 0.9951115615232057, 1)
	},
	{
		color: "blue",
		p: V(-0.20487742462105005, 1.2416366232457559, 1.2977240321947674)
	},
	{
		color: "orange",
		p: V(-0.15787441670056185, 0.9567801723960109, 1)
	},
	{
		color: "blue",
		p: V(-0.44473714804340453, 1.5608819986787599, 1.8539100944123708)
	},
	{
		color: "orange",
		p: V(-0.23989143237518848, 0.8419405036863499, 1)
	},
	{
		color: "blue",
		p: V(-0.6580984997033179, 1.889768305707712, 2.6051689300573475)
	},
	{
		color: "orange",
		p: V(-0.25261260109102834, 0.7253918484534178, 1)
	},
	{
		color: "blue",
		p: V(-0.8449614796007907, 2.228295544332611, 3.5515005391296963)
	},
	{
		color: "orange",
		p: V(-0.23791675385972222, 0.6274236818442551, 1)
	},
	{
		color: "blue",
		p: V(-1.0053260877358232, 2.5764637145534595, 4.692904921629424)
	},
	{
		color: "orange",
		p: V(-0.21422255607658122, 0.5490125535419723, 1)
	},
	{
		color: "blue",
		p: V(-1.1391923241084143, 2.934272816370254, 6.0293820775565194)
	},
	{
		color: "orange",
		p: V(-0.18894014501898773, 0.48666227792938344, 1)
	},
	{
		color: "blue",
		p: V(-1.2465601887185631, 3.3017228497829976, 7.56093200691099)
	},
	{
		color: "orange",
		p: V(-0.16486858863155468, 0.43668199195087226, 1)
	},
	{
		color: "blue",
		p: V(-1.3274296815662732, 3.6788138147916856, 9.28755470969283)
	},
	{
		color: "orange",
		p: V(-0.1429256379163957, 0.39610144217533827, 1)
	},
	{
		color: "blue",
		p: V(-1.3818008026515418, 4.065545711396325, 11.209250185902048)
	},
	{
		color: "orange",
		p: V(-0.12327325911499792, 0.36269559907848165, 1)
	},
	{
		color: "blue",
		p: V(-1.4096735519743682, 4.461918539596912, 13.326018435538638)
	},
	{
		color: "orange",
		p: V(-0.10578355108792022, 0.3348275826857327, 1)
	},
	{
		color: "blue",
		p: V(-1.411047929534753, 4.867932299393443, 15.637859458602602)
	},
	{
		color: "orange",
		p: V(-0.09023280540857631, 0.3112914726136336, 1)
	},
	{
		color: "blue",
		p: V(-1.3859239353327002, 5.283586990785926, 18.14477325509393)
	},
	{
		color: "orange",
		p: V(-0.07638144141281118, 0.29119057684022703, 1)
	},
	{
		color: "blue",
		p: V(-1.334301569368204, 5.708882613774353, 20.84675982501265)
	},
	{
		color: "orange",
		p: V(-0.06400522577936854, 0.2738498769926174, 1)
	},
	{
		color: "blue",
		p: V(-1.2561808316412666, 6.143819168358732, 23.743819168358733)
	},
	{
		color: "orange",
		p: V(-0.052905592934908575, 0.2587544625738243, 1)
	},
	{
		color: "green",
		p: V(0.46346683773368624, 0.5290171128076675, 0.7585418563741969)
	},
	{
		color: "green",
		p: V(0.6109970515655408, 0.6974132124182975, 1)
	},
	{
		color: "lightgreen",
		p: V(1.1, 0, 1.1)
	},
	{
		color: "lightgreen",
		p: V(0.47140452079103173, 0.47140452079103173, 0.47140452079103173)
	},
	{
		color: "lightgreen",
		p: V(0, 1, 1)
	},
	V(0.46346683773368624, 0.5290171128076675, 0.7585418563741969),
	V(0.13583839147243387, 0.04942223061967719, 1),
	V(-0.20637656410401542, 0.9097313178256375, 1),
	V(0.9987451054540215, 0.03257616741712892, 1)
]
return {edges,drLines,drPs}
			return {}
		}
	</script>
	
	<div id="tip-wrap" style="position: absolute;z-index: 6000; left: 8px; top:8px;">
		<a class="waves-effect waves-light btn red" onclick="viewer.alignX(1)">+X</a>
		<a class="waves-effect waves-light btn red" onclick="viewer.alignX(-1)">-X</a>
		<a class="waves-effect waves-light btn green" onclick="viewer.alignY(1)">+Y</a>
		<a class="waves-effect waves-light btn green" onclick="viewer.alignY(-1)">-Y</a>
		<a class="waves-effect waves-light btn blue" onclick="viewer.alignZ(1)">+Z</a>
		<a class="waves-effect waves-light btn blue" onclick="viewer.alignZ(-1)">-Z</a>
		<a class="waves-effect waves-light btn" onclick="viewer.rot(22.5)">↺</a>
		<a class="waves-effect waves-light btn" onclick="viewer.rot(-22.5)">↻</a>

		<div class="switch" style="display: inline-block">
			<input type="checkbox" class="filled-in" id="paint-mesh-normals">
				<label for="paint-mesh-normals">
					mesh normals
				</label>
			<!-- <label>
				<input type="checkbox" id="paint-mesh-normals">
				<span class="lever"></span>
				mesh normals
			</label> -->
		</div>
		<div class="switch" style="display: inline-block">
			<input type="checkbox" class="filled-in" id="paint-wireframe">
				<label for="paint-wireframe">
					wireframe
				</label>
		</div>
		<div class="switch" style="display: inline-block">
			<input type="checkbox" class="filled-in" id="paint-curvedebug">
				<label for="paint-curvedebug">
					curve debug
				</label>
		</div>

		<!-- <div id="tip">This should be visible.</div>
		<div id="tip-arrow"></div> -->
	</div>



<canvas id="testcanvas" width="1918" height="1068" style="position: absolute; left: 0px; top: 0px; width: 1279px; bottom: 712px;"></canvas></body></html>